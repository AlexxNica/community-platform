BEGIN;
alter table instant_answer drop column if exists blockgroup;
drop table if exists instant_answer_deployment_state;

create table instant_answer_deployment_state (
    id serial primary key,
    deployment_state varchar(20) not null unique
);

copy instant_answer_deployment_state (deployment_state) from stdin;
dev
beta
live
\.

update instant_answer as ia set
    deployment_state = a.deployment_state
    from (values
        ('laser_ship','live'),
        ('sha','live'),
        ('subnet_calc','live'),
        ('conversions','live'),
        ('convert_lat_lon','live'),
        ('help_line','live'),
        ('latex','live'),
        ('make_me_asandwich','live'),
        ('moon_phases','live'),
        ('passphrase','live'),
        ('password','live'),
        ('private_network','live'),
        ('random_number','live'),
        ('unix_time','live'),
        ('zapp_brannigan','live'),
        ('bitcoin','live'),
        ('iplookup','live'),
        ('is_it_up','live'),
        ('maps_places','live'),
        ('alternative_to','live'),
        ('products','live'),
        ('chuck_norris','live'),
        ('envato','live'),
        ('expand_url','live'),
        ('forecast','live'),
        ('images','live'),
        ('in_theaters','live'),
        ('maps_maps','live'),
        ('meta_cpan','live'),
        ('movie','live'),
        ('people_in_space','live'),
        ('rand_word','live'),
        ('stopwatch','live'),
        ('timer','live'),
        ('xkcd','live'),
        ('binary_logic','live'),
        ('calculator','live'),
        ('color_codes','live'),
        ('dhl','live'),
        ('fed_ex','live'),
        ('frequency_spectrum','live'),
        ('hex_to_dec','live'),
        ('hkdk','live'),
        ('ips','live'),
        ('jira','live'),
        ('onion_address','live'),
        ('parcelforce','live'),
        ('percent_of','live'),
        ('resistor_colors','live'),
        ('reverse_resistor_colours','live'),
        ('unicode','live'),
        ('ups','live'),
        ('urldecode','live'),
        ('usps','live'),
        ('vin','live'),
        ('abc','live'),
        ('anagram','live'),
        ('ascii','live'),
        ('aspect_ratio','live'),
        ('atbash','live'),
        ('average','live'),
        ('base','live'),
        ('base64','live'),
        ('bash_primary_expressions','live'),
        ('binary','live'),
        ('birth_stone','live'),
        ('bitsum','live'),
        ('blood_donor','live'),
        ('bpmto_ms','live'),
        ('brt','live'),
        ('calc_roots','live'),
        ('calendar_conversion','live'),
        ('calendar_today','live'),
        ('calling_codes','live'),
        ('camel_case','live'),
        ('chars','live'),
        ('cheat_sheets','live'),
        ('chess960','live'),
        ('chinese_zodiac','live'),
        ('coin','live'),
        ('combination','live'),
        ('constants','live'),
        ('crontab_cheat_sheet','live'),
        ('crypt_hash_check','live'),
        ('currency_in','live'),
        ('cusip','live'),
        ('date_math','live'),
        ('days_between','live'),
        ('dessert','live'),
        ('dewey','live'),
        ('dice','live'),
        ('duck_duck_go','live'),
        ('email_validator','live'),
        ('em_to_px','live'),
        ('factors','live'),
        ('feature_test','live'),
        ('fen_viewer','live'),
        ('fibonacci','live'),
        ('figlet','live'),
        ('firefox_os','live'),
        ('flip_text','live'),
        ('fortune','live'),
        ('frequency','live'),
        ('generate_mac','live'),
        ('golden_ratio','live'),
        ('greatest_common_factor','live'),
        ('guid','live'),
        ('guitar_chords','live'),
        ('hex_to_ascii','live'),
        ('htmlentities_decode','live'),
        ('htmlentities_encode','live'),
        ('idn','live'),
        ('independence_day','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('is_awesome','live'),
        ('iso639','live'),
        ('kana','live'),
        ('leap_year','live'),
        ('leet_speak','live'),
        ('loan','live'),
        ('lowercase','live'),
        ('mac_address','live'),
        ('magic_eight_ball','live'),
        ('markdown_cheat_sheet','live'),
        ('md4','live'),
        ('md5','live'),
        ('minecraft','live'),
        ('morse','live'),
        ('name_days','live'),
        ('nletter_words','live'),
        ('note_frequency','live'),
        ('paleo_ingredient_check','live'),
        ('palindrome','live'),
        ('paper','live'),
        ('parse_cron','live'),
        ('percent_error','live'),
        ('perimeter','live'),
        ('periodic_table','live'),
        ('phone_alphabet','live'),
        ('phonetic','live'),
        ('pi','live'),
        ('pig_latin','live'),
        ('poker','live'),
        ('potus','live'),
        ('prime_factors','live'),
        ('prime_number','live'),
        ('public_dns','live'),
        ('qrcode','live'),
        ('rafl','live'),
        ('randagram','live'),
        ('random_name','live'),
        ('rc4','live'),
        ('regexp','live'),
        ('reverse','live'),
        ('reverse_complement','live'),
        ('ripemd','live'),
        ('roman','live'),
        ('rot13','live'),
        ('rubiks_cube_patterns','live'),
        ('scramble','live'),
        ('screen_resolution','live'),
        ('security_addons','live'),
        ('sha3','live'),
        ('shruggie','live'),
        ('sig_figs','live'),
        ('solar_system','live'),
        ('sort','live'),
        ('spell','live'),
        ('sum_of_natural_numbers','live'),
        ('sun_info','live'),
        ('teredo','live'),
        ('timezone_converter','live'),
        ('tips','live'),
        ('title_case','live'),
        ('twelve_oclock','live'),
        ('ultimate_answer','live'),
        ('un','live'),
        ('unicornify','live'),
        ('unidecode','live'),
        ('unix_permissions','live'),
        ('uppercase','live'),
        ('uptime','live'),
        ('urlencode','live'),
        ('valar_morghulis','live'),
        ('wavelength','live'),
        ('week','live'),
        ('weekdays_between','live'),
        ('weight','live'),
        ('where_am_i','live'),
        ('workdays_between','live'),
        ('zodiac','live'),
        ('currency','live'),
        ('cryptocurrency','live'),
        ('isbn','live'),
        ('nxt_account','live'),
        ('riffsy','live'),
        ('twitter','live'),
        ('yoga_asanas','live'),
        ('airlines','live'),
        ('anime','live'),
        ('aqi','live'),
        ('apod','live'),
        ('astrosubject','live'),
        ('aur','live'),
        ('bacon_ipsum','live'),
        ('bbc','live'),
        ('bible','live'),
        ('bay_area_bike_share_ca','live'),
        ('citi_bike_nyc','live'),
        ('bike_sharing_indego_phl','live'),
        ('book','live'),
        ('bootic','live'),
        ('brainy_quote','live'),
        ('clojars','live'),
        ('coderwall','live'),
        ('color_picker','live'),
        ('congress','live'),
        ('coupons','live'),
        ('coursebuffet','live'),
        ('deb_version','live'),
        ('detect_lang','live'),
        ('dictionary_definition','live'),
        ('dns','live'),
        ('dogo_books','live'),
        ('dogo_movies','live'),
        ('dogo_news','live'),
        ('drinks','live'),
        ('duck_say','live'),
        ('economic_indicators','live'),
        ('editor','live'),
        ('equaldex','live'),
        ('expatistan','live'),
        ('fedora_project_package_db','live'),
        ('flash_version','live'),
        ('route','live'),
        ('geometry','live'),
        ('get_events','live'),
        ('gifs','live'),
        ('github','live'),
        ('github_status','live'),
        ('google_plus','live'),
        ('go_watch_it','live'),
        ('gravatar','live'),
        ('hackage','live'),
        ('hacker_news','live'),
        ('haxelib','live'),
        ('hayoo','live'),
        ('hearthstone','live'),
        ('homebrew','live'),
        ('indeed_jobs','live'),
        ('in_every_lang','live'),
        ('islamic_prayer_times','live'),
        ('isslocation','live'),
        ('keybase','live'),
        ('kwixer','live'),
        ('launchbug','live'),
        ('launch_library','live'),
        ('launchpad_project','live'),
        ('mass_on_time','live'),
        ('maven','live'),
        ('minecraft_status','live'),
        ('missing_kids','live'),
        ('namecheap','live'),
        ('newint','live'),
        ('news','live'),
        ('npm','live'),
        ('nutrition','live'),
        ('octopart','live'),
        ('open_nic','live'),
        ('packagist','live'),
        ('parking','live'),
        ('playing_cards','live'),
        ('plos','live'),
        ('pokemon_data','live'),
        ('product_hunt','live'),
        ('pwned','live'),
        ('quandl_fundamentals','live'),
        ('quandl_home_values','live'),
        ('quandl_world_bank','live'),
        ('rain','live'),
        ('rand_pos','live'),
        ('recipes','live'),
        ('reddit_search','live'),
        ('reddit_sub_search','live'),
        ('renego_job_search','live'),
        ('rhymes','live'),
        ('ruby_gems','live'),
        ('rx_info','live'),
        ('sales_tax','live'),
        ('seat_geek_events_by_artist','live'),
        ('seat_geek_events_by_city','live'),
        ('seat_geek_events_by_venue','live'),
        ('seat_geek_events_near_me','live'),
        ('seat_geek_sports','live'),
        ('shorten','live'),
        ('similar_sites','live'),
        ('sound_cloud','live'),
        ('sports','live'),
        ('sports_mlb_games','live'),
        ('sports_nfl_games','live'),
        ('statista','live'),
        ('stocks','live'),
        ('sublime_packages','live'),
        ('sun_rise_set','live'),
        ('symbolab','live'),
        ('tfl_status','live'),
        ('thesaurus','live'),
        ('tides','live'),
        ('time','live'),
        ('tor_node','live'),
        ('transit_njt','live'),
        ('path','live'),
        ('septa','live'),
        ('switzerland','live'),
        ('travis_status','live'),
        ('tvmaze_nextepisode','live'),
        ('tvmaze_previousepisode','live'),
        ('tvmaze_show','live'),
        ('twitch_featured','live'),
        ('twitch_streams','live'),
        ('urban_dictionary','live'),
        ('uv','live'),
        ('videos','live'),
        ('wgha','live'),
        ('whois','live'),
        ('wikinews','live'),
        ('yacht_specs','live'),
        ('word_map','live'),
        ('code_search','live'),
        ('lastfm_artist','live'),
        ('apps','live'),
        ('zanran','live')
    ) as a(id, deployment_state)
    where ia.id = a.id;

update instant_answer set deployment_state = 'dev' where deployment_state <> 'live';
update instant_answer set deployment_state = 'beta' where ....;

COMMIT;
